!function(a){var b,c,d,e,f,g=a(".admin-dashboard-container"),h=a(".admin-dashboard-container .admin-dashboard-widget");b=function(b){var e,f=buildAdminLink("admindashboards","configModal",d(b)),g={title:b.data("configModalTitle"),className:"full-screen-dialog",buttonList:["ok","cancel"]},h={onLoad:function(a){e=a},onok:function(){var f=a.extend({},e.getAdminDashboardWidgetConfig(),d(b));a.ajax(buildAdminLink("admindashboards","saveWidgetConfig"),{data:f,complete:function(){c(b)}})}},i=new PresideIframeModal(f,"100%","100%",h,g);i.open()},c=function(b){b.find(".widget-dynamic-content").presideLoadingSheen(!0),a.ajax(buildAdminLink("admindashboards","renderWidgetContent"),{data:d(b),success:function(a){e(b,a)},error:function(){f(b)},complete:function(){b.find(".widget-dynamic-content").presideLoadingSheen(!1)}})},e=function(a,b){a.find(".widget-dynamic-content").html(b)},f=function(a){a.find(".widget-dynamic-content").html(a.closest(".admin-dashboard-container").find(".error-template").html())},d=function(a){return{widgetId:a.data("widgetId"),dashboardId:a.closest(".admin-dashboard-container").data("dashboardId")}},g.on("click",".admin-dashboard-widget .widget-configuration-link",function(){return b(a(this).closest(".admin-dashboard-widget")),!1}),h.each(function(){c(a(this))})}(presideJQuery);
//# sourceMappingURL=_admindashboards.min.map